// -----------------------------------------------------------------------------
//  THIS FILE IS AUTO-GENERATED. DO NOT EDIT DIRECTLY.
//
//  Generated by: Peripheral Register File Generator
//  Repository:   https://github.com/Biggo03/Peripheral-Register-File-Generator
//  Revision:     018be8f
//  Generated on: 2026-03-01T02:14:53Z
//
//  Any manual changes will be overwritten.
// -----------------------------------------------------------------------------
`timescale 1ns / 1ps
`include "uart_reg_macros.sv"
import uart_reg_pkg::*;

module uart_regfile (
    // -- Clk and Reset --
    input logic         clk_i,
    input logic         reset_i,

    // -- Register Groups --
    output uart_reg_pkg::config_reg_t config_grp,
    input uart_reg_pkg::status_reg_t status_grp,

    // -- Write Signals --
    input logic         reg_we_i,
    input logic [4:0]  reg_waddr_i,
    input logic [31:0]  reg_wdata_i,

    // -- Read Signals --
    input  logic [4:0] reg_raddr_i,
    output logic [31:0] reg_rdata_o
);

    always_ff @(posedge clk_i) begin : reg_write_ff
        if (reset_i) begin
            // UART_CFG
            config_grp.TX_EN        <= 1'h0;
            config_grp.TX_CLR_OVRN  <= 1'h0;
            config_grp.RX_EN        <= 1'h0;
            config_grp.RX_CLR_OVRN  <= 1'h0;
            
            // TX_DATA
            config_grp.TX_DATA      <= 8'h00;
            
            // BAUD_CFG
            config_grp.BAUDDIV      <= 16'h0029;
            
        end else if (reg_we_i) begin
            unique case (reg_waddr_i)
                `UART_UART_CFG_ADDR:
                begin
                    config_grp.TX_EN        <= reg_wdata_i[0];
                    config_grp.TX_CLR_OVRN  <= reg_wdata_i[1];
                    config_grp.RX_EN        <= reg_wdata_i[2];
                    config_grp.RX_CLR_OVRN  <= reg_wdata_i[3];
                end
                
                `UART_TX_DATA_ADDR:
                begin
                    config_grp.TX_DATA      <= reg_wdata_i[7:0];
                end
                
                `UART_BAUD_CFG_ADDR:
                begin
                    config_grp.BAUDDIV      <= reg_wdata_i[15:0];
                end
                endcase
        end
    end

    always_comb begin : reg_read_comb
        reg_rdata_o = 32'h0;
        unique case (reg_raddr_i)
            `UART_UART_CFG_ADDR:
            begin
                reg_rdata_o[0]     = config_grp.TX_EN;
                reg_rdata_o[1]     = config_grp.TX_CLR_OVRN;
                reg_rdata_o[2]     = config_grp.RX_EN;
                reg_rdata_o[3]     = config_grp.RX_CLR_OVRN;
            end
            `UART_TX_DATA_ADDR:
            begin
                reg_rdata_o[7:0]   = config_grp.TX_DATA;
            end
            `UART_BAUD_CFG_ADDR:
            begin
                reg_rdata_o[15:0]  = config_grp.BAUDDIV;
            end
            `UART_UART_STATUS_ADDR:
            begin
                reg_rdata_o[0]     = status_grp.RX_VALID;
                reg_rdata_o[1]     = status_grp.RX_OVRN;
                reg_rdata_o[6:2]   = status_grp.RX_LVL;
                reg_rdata_o[7]     = status_grp.RX_BUSY;
                reg_rdata_o[8]     = status_grp.TX_OVRN;
                reg_rdata_o[13:9]  = status_grp.TX_LVL;
                reg_rdata_o[14]    = status_grp.TX_BUSY;
            end
            `UART_RX_DATA_ADDR:
            begin
                reg_rdata_o[7:0]   = status_grp.RX_DATA;
            end
        endcase
    end

endmodule
